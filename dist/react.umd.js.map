{"version":3,"file":"react.umd.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/lib/components/Button/Button.React.js","../src/lib/components/Card/atoms/Text.js","../src/lib/utils/format.js","../src/lib/components/Card/atoms/Time.js","../src/lib/utils/index.js","../src/lib/components/Card/atoms/Button.js","../src/lib/components/Card/atoms/Caret.js","../src/lib/components/Card/atoms/CustomField.js","../src/lib/components/Card/atoms/Media.js","../src/lib/utils/files.js","../src/lib/components/Card/Card.React.js","../src/lib/templates/card.js","../src/lib/components/CardStack/CardStack.React.js","../src/lib/utils/transitions.js","../src/lib/utils/math.js","../src/lib/atoms/Spinner.React.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n/**\n * Primary UI component for user interaction\n */\nexport const Button = ({\n  primary,\n  backgroundColor,\n  borderRadius,\n  size,\n  label,\n  normalCursor,\n  ...props\n}) => {\n  const mode = primary ? \"button--primary\" : \"button--secondary\";\n  return (\n    <button\n      type=\"button\"\n      className={[\"button\", `button--${size}`, mode, normalCursor ? 'no-hover': ''].join(\" \")}\n      style={{ backgroundColor: backgroundColor, borderRadius: borderRadius }}\n      {...props}\n    >\n      {label}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  /**\n   * Is this the principal call to action on the page?\n   */\n  primary: PropTypes.bool,\n  /**\n   * What background color to use\n   */\n  backgroundColor: PropTypes.string,\n  /**\n   * How much rounded are they?\n   */\n  borderRadius: PropTypes.string,\n  /**\n   * How large should the button be?\n   */\n  size: PropTypes.oneOf([\"small\", \"medium\", \"large\"]),\n  /**\n   * Button contents\n   */\n  label: PropTypes.string.isRequired,\n  /**\n   * Optional click handler\n   */\n  onClick: PropTypes.func,\n};\n\nButton.defaultProps = {\n  backgroundColor: \"red\",\n  borderRadius: \"0%\",\n  primary: false,\n  size: \"medium\",\n  onClick: undefined,\n};\n","import React, { useState } from \"react\";\n\nconst CardText = ({ title, value, hoverValue = null }) => {\n  const [showHover, setShowHover] = useState(false);\n\n  return (\n    <div className=\"card-cell\">\n      {title ? <h4>{title}</h4> : null}\n      <div\n        style={{\n          width: `fit-content`,\n        }}\n      >\n        <div\n          onMouseOver={() => hoverValue && setShowHover(true)}\n          onMouseOut={() => hoverValue && setShowHover(false)}\n        >\n          {showHover ? (\n            <span\n              style={{\n                pointerEvents: `none`,\n                opacity: 0.8,\n              }}\n            >\n              <em>{hoverValue}</em>\n            </span>\n          ) : (\n            <div\n              style={{\n                pointerEvents: `none`,\n                display: `inline-block`,\n                height: `1.1rem`,\n                borderBottom: hoverValue && `1px rgb(235, 68, 62) dashed`,\n              }}\n            >\n              {value}\n            </div>\n          )}\n        </div>\n        {/* {!showHover && value} */}\n      </div>\n    </div>\n  );\n};\n\nexport default CardText;\n","/*\n * Taken from: https://stackoverflow.com/questions/1026069/how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript\n */\nexport function capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport function makeNiceDate(datetime) {\n  if (datetime === null) return null;\n  // see https://stackoverflow.com/questions/3552461/how-to-format-a-javascript-date\n  const dateTimeFormat = new Intl.DateTimeFormat(\"en\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"2-digit\",\n  });\n  const [\n    { value: month },\n    ,\n    { value: day },\n    ,\n    { value: year },\n  ] = dateTimeFormat.formatToParts(datetime);\n\n  return `${day} ${month} ${year}`;\n}\n\nexport const isEmptyString = (s) => s.length === 0;\n","import React from \"react\";\n\nimport copy from \"../../../data/copy.json\";\nimport { isNotNullNorUndefined } from \"../../../utils\";\n\nconst CardTime = ({ title = \"Timestamp\", timelabel, language, precision }) => {\n  const unknownLang = copy[language].cardstack.unknown_time;\n\n  if (isNotNullNorUndefined(timelabel)) {\n    return (\n      <div className=\"card-cell\">\n        {/* <i className=\"material-icons left\">today</i> */}\n        <h4>{title}</h4>\n        {timelabel}\n        {precision && precision !== \"\" ? ` - ${precision}` : null}\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"card-cell\">\n        {/* <i className=\"material-icons left\">today</i> */}\n        <h4>{title}</h4>\n        {unknownLang}\n      </div>\n    );\n  }\n};\n\nexport default CardTime;\n","export * from \"./files\";\nexport * from \"./format\";\nexport * from \"./math\";\nexport * from \"./transitions\";\n\n/**\n * Return whether the variable is neither null nor undefined\n * @param {object} variable\n */\nexport function isNotNullNorUndefined(variable) {\n  return typeof variable !== \"undefined\" && variable !== null;\n}\n","import React from \"react\";\nimport { Button } from \"../../Button/Button.React\";\n\nconst CardButton = ({ text, color = \"#000\", onClick = () => {}, normalCursor }) => (\n  <Button\n    size={\"small\"}\n    backgroundColor={color}\n    borderRadius={\"12px\"}\n    primary={false}\n    label={text}\n    onClick={onClick}\n    normalCursor={normalCursor}\n  />\n);\n\nexport default CardButton;\n","import React from \"react\";\n\nconst CardCaret = ({ isOpen, toggle }) => {\n  let classes = isOpen ? \"arrow-down\" : \"arrow-down folded\";\n\n  return (\n    <div className=\"card-toggle\" onClick={toggle}>\n      <p>\n        <i className={classes} />\n      </p>\n    </div>\n  );\n};\n\nexport default CardCaret;\n","import React from \"react\";\nimport marked from \"marked\";\n\n// TODO could this be a security vulnerability?\nconst CardCustomField = ({ title, value }) => (\n  <div className=\"card-cell\">\n    {title ? <h4>{title}</h4> : null}\n    <div dangerouslySetInnerHTML={{ __html: marked(`${value}`) }} />\n  </div>\n);\n\nexport default CardCustomField;\n","import React, { useRef } from \"react\";\nimport { useCallback } from \"react\";\nimport { typeForPath } from \"../../../utils\";\n\n// TODO should videos\n//    - play inline\n//    - appear zoomed out/in\n//    - only show cover image and then lightbox when clicked\n//    - show video control plane?\n// TODO landscape image doesn't fit in box properly\nconst Media = ({ src }) => {\n  const videoRef = useRef();\n  const onVideoStart = useCallback(() => {\n    return videoRef.current?.play();\n  }, []);\n  const onVideoStop = useCallback(() => {\n    return videoRef.current?.pause();\n  }, []);\n\n  const type = typeForPath(src);\n  console.log(type, src);\n  switch (type) {\n    case \"Video\":\n      return (\n        <div className=\"card-cell media\">\n          <video\n            onMouseEnter={onVideoStart}\n            onMouseLeave={onVideoStop}\n            ref={videoRef}\n            // controls\n            // controlsList=\"nodownload noremoteplayback\"\n            disablePictureInPicture\n          >\n            <source src={src} />\n          </video>\n        </div>\n      );\n    case \"Image\":\n      return (\n        <div className=\"card-cell media\">\n          <div className=\"img-wrapper\">\n            <img\n              src={src}\n              alt=\"an inline photograph for the event card component\"\n            />\n          </div>\n        </div>\n      );\n    default:\n      return null;\n  }\n};\n\nexport default Media;\n","export function typeForPath(path) {\n  let type;\n  path = path.trim();\n  switch (true) {\n    case /\\.((png)|(jpg)|(jpeg))$/.test(path):\n      type = \"Image\";\n      break;\n    case /\\.(mp4)$/.test(path):\n      type = \"Video\";\n      break;\n    case /\\.(md)$/.test(path):\n      type = \"Text\";\n      break;\n    case /\\.(pdf)$/.test(path):\n      type = \"Document\";\n      break;\n    default:\n      type = \"Unknown\";\n      break;\n  }\n  return type;\n}\n\nexport function selectTypeFromPathWithPoster(path, poster) {\n  return { type: typeForPath(path), path, poster };\n}\n","import React, { useState } from \"react\";\n\nimport CardText from \"./atoms/Text\";\nimport CardTime from \"./atoms/Time\";\nimport CardButton from \"./atoms/Button\";\nimport CardCaret from \"./atoms/Caret\";\nimport CardCustom from \"./atoms/CustomField\";\nimport CardMedia from \"./atoms/Media\";\n\nimport { makeNiceDate, isEmptyString } from \"../../utils\";\n\nexport const Card = ({\n  content = [],\n  isLoading = true,\n  onSelect = () => {},\n  sources = [],\n  isSelected = false,\n  language = \"en-US\",\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const toggle = () => setIsOpen(!isOpen);\n\n  // NB: should be internationalized.\n  const renderTime = (field) => (\n    <CardTime\n      language={language}\n      timelabel={makeNiceDate(field.value)}\n      {...field}\n    />\n  );\n\n  const renderCaret = () =>\n    sources.length === 0 && (\n      <CardCaret toggle={() => toggle()} isOpen={isOpen} />\n    );\n\n  const renderMedia = ({ src }) => {\n    return <CardMedia src={src} />;\n  };\n\n  function renderField(field) {\n    switch (field.kind) {\n      case \"media\":\n        return renderMedia({ src: field.src });\n      case \"line\":\n        return (\n          <div style={{ height: `1rem`, width: `100%` }}>\n            <hr />\n          </div>\n        );\n      case \"line-break\":\n        return (\n          <div style={{ height: `${field.times || 1}rem`, width: `100%` }} />\n        );\n      case \"item\":\n        // this is like a span\n        return null;\n      case \"markdown\":\n        return <CardCustom {...field} />;\n      case \"tag\":\n        return (\n          <div\n            className=\"card-cell m0\"\n            style={{\n              textTransform: `uppercase`,\n              fontSize: `.8em`,\n              lineHeight: `.8em`,\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: `flex-${field.align || `start`}`,\n              }}\n            >\n              {field.value}\n            </div>\n          </div>\n        );\n      case \"button\":\n        return (\n          <div className=\"card-cell\">\n            {field.title && <h4>{field.title}</h4>}\n            {/* <div className=\"card-row\"> */}\n            {field.value.map((t, idx) => (\n              <CardButton key={`card-button-${idx}`} {...t} />\n            ))}\n            {/* </div> */}\n          </div>\n        );\n      case \"text\":\n        return !isEmptyString(field.value) && <CardText {...field} />;\n      case \"date\":\n        return renderTime(field);\n      case \"links\":\n        return (\n          <div className=\"card-cell\">\n            {field.title && <h4>{field.title}</h4>}\n            <div className=\"card-row m0\">\n              {field.value.map(({ text, href }, idx) => (\n                <a href={href} key={`card-links-url-${idx}`}>\n                  {text}\n                </a>\n              ))}\n            </div>\n          </div>\n        );\n      case \"list\":\n        // Only render if some of the list's strings are non-empty\n        const shouldFieldRender =\n          !!field.value.length &&\n          !!field.value.filter((s) => !isEmptyString(s)).length;\n        return shouldFieldRender ? (\n          // <div className=\"card-cell\">\n          <div>\n            {field.title && <h4>{field.title}</h4>}\n            <div className=\"card-row m0\">\n              {field.value.map((t, idx) => (\n                <CardText key={`card-list-text-${idx}`} value={t} {...t} />\n              ))}\n            </div>\n          </div>\n        ) : null;\n      default:\n        return null;\n    }\n  }\n\n  function renderRow(row) {\n    return (\n      <div className=\"card-row\">\n        {row.map((field) => (\n          <>{renderField(field)}</>\n        ))}\n      </div>\n    );\n  }\n\n  // TODO: render afterCaret appropriately from props\n  sources = [];\n\n  return (\n    <li\n      className={`event-card ${isSelected ? \"selected\" : \"\"}`}\n      onClick={onSelect}\n    >\n      {content.map((row) => renderRow(row))}\n      {isOpen && (\n        <div className=\"card-bottomhalf\">\n          {sources.map((row) => (\n            <div className=\"card-row\"></div>\n          ))}\n        </div>\n      )}\n      {sources.length > 0 ? renderCaret() : null}\n    </li>\n  );\n};\n","export const generateCardLayout = {\n  basic: ({ event }) => {\n    return [\n      [\n        {\n          kind: \"date\",\n          title: \"Incident Date\",\n          value: event.datetime || event.date || ``,\n        },\n        {\n          kind: \"text\",\n          title: \"Location\",\n          value: event.location || `â€”`,\n        },\n      ],\n      [{ kind: \"line-break\", times: 0.4 }],\n      [\n        {\n          kind: \"text\",\n          title: \"Summary\",\n          value: event.description || ``,\n          scaleFont: 1.1,\n        },\n      ],\n    ];\n  },\n  us_protests: ({ event, colors, coloringSet, getFilterIdxFromColorSet }) => {\n    let precision;\n    switch (event.location_precision) {\n      case `Generalised`:\n        precision = `No location data`;\n        break;\n      case `Estimated`:\n        precision = `Precise location estimated`;\n        break;\n      case `Self-reported`:\n        precision = `Location reported by witness`;\n        break;\n      case `Confirmed`:\n      default:\n        precision = null;\n        break;\n    }\n\n    return [\n      [\n        {\n          kind: \"tag\",\n          align: \"end\",\n          value: `Incident #${event.incident_id}`,\n        },\n      ],\n      [{ kind: \"line\" }],\n      [\n        { kind: \"date\", title: \"Incident Date\", value: event.datetime },\n        {\n          kind: \"text\",\n          title: \"Location\",\n          hoverValue: precision,\n          value: event.location,\n        },\n      ],\n      [{ kind: \"line-break\", times: 0.4 }],\n      [\n        {\n          kind: \"text\",\n          title: \"Summary\",\n          value: event.description,\n          scaleFont: 1.1,\n        },\n      ],\n      [{ kind: \"line-break\", times: 0.4 }],\n      [\n        {\n          kind: \"button\",\n          title: \"Type of Violation\",\n          value: event.associations.slice(0, -1).map((association) => ({\n            text: association,\n            color:\n              getFilterIdxFromColorSet(association, coloringSet) >= 0\n                ? colors[getFilterIdxFromColorSet(association, coloringSet)]\n                : null,\n            normalCursor: true,\n          })),\n        },\n        {\n          kind: \"button\",\n          title: \"Against\",\n          value: event.associations.slice(-1).map((category) => ({\n            text: category,\n            color: null,\n            normalCursor: true,\n          })),\n        },\n      ],\n      [{ kind: \"line-break\", times: 0.2 }],\n      [\n        {\n          kind: \"list\",\n          title: \"Law Enforcement Agencies\",\n          value: event.le_agencys,\n        },\n      ],\n      [\n        {\n          kind: \"text\",\n          title: \"Name of reporter(s)\",\n          value: event.journalist_name,\n        },\n        {\n          kind: \"text\",\n          title: \"Network\",\n          value: event.news_organisation,\n        },\n      ],\n      [\n        {\n          kind: event.hide_source === \"FALSE\" ? \"button\" : \"markdown\",\n          title: \"Sources\",\n          value:\n            event.hide_source === \"FALSE\"\n              ? event.links.map((href, idx) => ({\n                  text: `Source ${idx + 1}`,\n                  href,\n                  color: null,\n                  onClick: () => window.open(href, \"_blank\"),\n                }))\n              : \"Source hidden to protect the privacy and dignity of civilians. Read more [here](https://staging.forensic-architecture.org/wp-content/uploads/2020/09/2020.14.09-FA-Bcat-Mission-Statement.pdf).\",\n        },\n      ],\n    ];\n  },\n};\n","import React, { useRef, useEffect, createRef } from \"react\";\n\nimport { Card } from \"../Card/Card.React.js\";\nimport copy from \"../../data/copy.json\";\nimport { scrollToElement } from \"../../utils\";\n\nexport const CardStack = ({\n  isCardstack = true,\n  isLoading = false,\n  language = `en-US`,\n  narrative = null,\n  onHighlight = () => {},\n  onSelect = () => {},\n  onToggleCardstack = () => {},\n  onViewSource = () => {},\n  timelineDims = {\n    height: 250,\n    width: 0,\n    marginLeft: 100,\n    marginTop: 15,\n    marginBottom: 60,\n    contentHeight: 200,\n    width_controls: 100,\n  },\n  selected = null,\n  sourceError = false,\n}) => {\n  const refs = useRef([]);\n  const refCardStack = useRef();\n  const refCardStackContent = useRef();\n\n  // this.refs = {};\n  // this.refCardStack = React.createRef();\n  // this.refCardStackContent = React.createRef();\n\n  useEffect(() => {\n    const isNarrative = !!narrative;\n    if (isNarrative) {\n      scrollToElement({\n        from: refs[narrative.current].current.offsetTop,\n        to: refCardStack.current,\n        duration: 500,\n      });\n    }\n  }, [narrative]);\n\n  useEffect(() => {}, [selected]);\n\n  const renderCards = (events, selections) => {\n    // if no selections provided, select all\n    if (!selections) {\n      selections = events.map((e) => true);\n    }\n    refs.current = [];\n\n    return events.map((event, idx) => {\n      const cardRef = createRef();\n      refs.current[idx] = cardRef;\n\n      // TODO do we need to pass the get*() funcs to the Card?\n      return (\n        <Card\n          key={`card-stack-iten-${idx}`}\n          event={event}\n          ref={cardRef}\n          sourceError={sourceError}\n          language={language}\n          isLoading={isLoading}\n          isSelected={selections[idx]}\n          onViewSource={onViewSource}\n          onHighlight={onHighlight}\n          onSelect={onSelect}\n          idx={idx}\n          inlineMedia={event?.sources[0]?.paths}\n        />\n      );\n    });\n  };\n\n  const renderSelectedCards = () => {\n    return selected.length > 0 ? renderCards(selected) : null;\n  };\n\n  const renderNarrativeCards = () => {\n    const showing = narrative.steps;\n\n    const selections = showing.map((_, idx) => idx === narrative.current);\n\n    return renderCards(showing, selections);\n  };\n\n  const renderCardStackHeader = () => {\n    const headerLang = copy[language].cardstack.header;\n\n    return (\n      <div\n        id=\"card-stack-header\"\n        className=\"card-stack-header\"\n        onClick={() => onToggleCardstack()}\n      >\n        <button className=\"side-menu-burg is-active\">\n          <span />\n        </button>\n        <p className=\"header-copy top\">{`${selected.length} ${headerLang}`}</p>\n      </div>\n    );\n  };\n\n  const renderCardStackContent = () => {\n    return (\n      <div id=\"card-stack-content\" className=\"card-stack-content\">\n        <ul>{renderSelectedCards()}</ul>\n      </div>\n    );\n  };\n\n  const renderNarrativeContent = () => {\n    return (\n      <div\n        id=\"card-stack-content\"\n        className=\"card-stack-content\"\n        ref={refCardStackContent}\n      >\n        <ul>{renderNarrativeCards()}</ul>\n      </div>\n    );\n  };\n\n  const render = () => {\n    // TODO: make '237px', which is the narrative header, less hard-coded\n    const height = `calc(100% - 237px - ${timelineDims.height}px)`;\n    if (selected?.length > 0) {\n      if (!narrative) {\n        return (\n          <div\n            id=\"card-stack\"\n            className={`card-stack\n            ${isCardstack ? \"\" : \" folded\"}`}\n          >\n            {renderCardStackHeader()}\n            {renderCardStackContent()}\n          </div>\n        );\n      } else {\n        return (\n          <div\n            id=\"card-stack\"\n            ref={refCardStack}\n            className={`card-stack narrative-mode\n            ${isCardstack ? \"\" : \" folded\"}`}\n            style={{ height }}\n          >\n            {renderNarrativeContent()}\n          </div>\n        );\n      }\n    }\n\n    return <div />;\n  };\n\n  return <>{render()}</>;\n};\n","import { easeInOutQuad } from \"./math\";\n\nexport const scrollToElement = ({ to = null, duration = 500 }) => {\n  const element = to;\n  const cardScroll = window.offsetTop;\n\n  let start = element.scrollTop;\n  let change = cardScroll - start;\n  let currentTime = 0;\n  const increment = 20;\n\n  const animateScroll = function () {\n    currentTime += increment;\n    const val = easeInOutQuad(currentTime, start, change, duration);\n    element.scrollTop = val;\n    if (currentTime < duration) setTimeout(animateScroll, increment);\n  };\n\n  animateScroll();\n};\n","// t = current time\n// b = start value\n// c = change in value\n// d = duration\nexport const easeInOutQuad = (t, b, c, d) => {\n  t /= d / 2;\n  if (t < 1) return (c / 2) * t * t + b;\n  t -= 1;\n  return (-c / 2) * (t * (t - 2) - 1) + b;\n};\n","import React from \"react\";\n\nexport const Spinner = ({ small }) => {\n  return (\n    <div className={`spinner ${small ? \"small\" : \"\"}`}>\n      <div className=\"double-bounce-overlay\" />\n      <div className=\"double-bounce\" />\n    </div>\n  );\n};\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","Button","primary","backgroundColor","borderRadius","size","label","normalCursor","props","mode","React","className","join","propTypes","PropTypes","bool","string","oneOf","isRequired","onClick","func","defaultProps","undefined","CardText","title","value","hoverValue","useState","showHover","setShowHover","width","onMouseOver","onMouseOut","pointerEvents","opacity","display","height","borderBottom","makeNiceDate","datetime","Intl","DateTimeFormat","year","month","day","formatToParts","isEmptyString","s","length","CardTime","timelabel","language","precision","unknownLang","copy","cardstack","unknown_time","CardButton","text","color","CardCaret","isOpen","toggle","classes","CardCustomField","dangerouslySetInnerHTML","__html","marked","Media","src","videoRef","useRef","onVideoStart","useCallback","current","_videoRef$current","play","onVideoStop","_videoRef$current2","pause","path","trim","test","typeForPath","console","log","onMouseEnter","onMouseLeave","disablePictureInPicture","alt","Card","content","isLoading","onSelect","sources","isSelected","setIsOpen","renderField","field","kind","CardMedia","times","CardCustom","textTransform","fontSize","lineHeight","justifyContent","align","map","t","idx","key","renderTime","href","filter","row","renderRow","generateCardLayout","basic","event","date","location","description","scaleFont","us_protests","colors","coloringSet","getFilterIdxFromColorSet","location_precision","incident_id","associations","slice","association","category","le_agencys","journalist_name","news_organisation","hide_source","links","window","open","isCardstack","narrative","onHighlight","onToggleCardstack","onViewSource","timelineDims","marginLeft","marginTop","marginBottom","contentHeight","width_controls","selected","sourceError","refs","refCardStack","refCardStackContent","useEffect","to","duration","element","cardScroll","offsetTop","start","scrollTop","change","currentTime","animateScroll","b","c","val","setTimeout","scrollToElement","from","headerLang","renderCards","events","selections","e","cardRef","createRef","inlineMedia","_event$sources$","paths","renderCardStackContent","id","renderNarrativeContent","showing","steps","_","header","small"],"mappings":"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"}